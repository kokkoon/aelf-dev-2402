"use strict";(self.webpackChunkaelf_dev_2402=self.webpackChunkaelf_dev_2402||[]).push([[7101],{5801:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var r=t(4848),s=t(8453);const o={sidebar_position:1},i="Portkey Sign In",c={id:"frontend/4.1 sign-in",title:"Portkey Sign In",description:"1. Create a sample project using react",source:"@site/docs/4. frontend/4.1 sign-in.md",sourceDirName:"4. frontend",slug:"/frontend/4.1 sign-in",permalink:"/aelf-dev-2402/docs/frontend/4.1 sign-in",draft:!1,unlisted:!1,editUrl:"https://github.com/kokkoon/aelf-dev-2402/tree/main/docs/4. frontend/4.1 sign-in.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Frontend",permalink:"/aelf-dev-2402/docs/frontend/"},next:{title:"Smart Contract on Frontend",permalink:"/aelf-dev-2402/docs/frontend/4.2 smart-contract-frontend"}},a={},d=[{value:"1. Create a sample project using react",id:"1-create-a-sample-project-using-react",level:2},{value:"2. Install SDKs",id:"2-install-sdks",level:2},{value:"3. Integrate SignIn Component",id:"3-integrate-signin-component",level:2},{value:"3.1 Copy below sample code and replace the codes in src/App.tsx",id:"31-copy-below-sample-code-and-replace-the-codes-in-srcapptsx",level:3},{value:"4. Start the development server",id:"4-start-the-development-server",level:2},{value:"5. Result",id:"5-result",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"portkey-sign-in",children:"Portkey Sign In"}),"\n",(0,r.jsx)(n.h2,{id:"1-create-a-sample-project-using-react",children:"1. Create a sample project using react"}),"\n",(0,r.jsx)(n.p,{children:"In a terminal:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:"copy",children:"npm create vite@latest my-app -- --template react-swc-ts\n"})}),"\n",(0,r.jsx)(n.p,{children:"Enter the project folder."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:"copy",children:"cd my-app\n"})}),"\n",(0,r.jsx)(n.h2,{id:"2-install-sdks",children:"2. Install SDKs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",metastring:"copy",children:"npm install @portkey/detect-provider aelf-sdk\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Library"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"@portkey/detect-provider"}),(0,r.jsx)(n.td,{children:"This library allows the developer to interact with the Portkey chrome extension."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"aelf-sdk"}),(0,r.jsx)(n.td,{children:"aelf-sdk.js is a collection of libraries which allow you to interact with a local or remote aelf node, using a HTTP connection."})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"3-integrate-signin-component",children:"3. Integrate SignIn Component"}),"\n",(0,r.jsx)(n.h3,{id:"31-copy-below-sample-code-and-replace-the-codes-in-srcapptsx",children:"3.1 Copy below sample code and replace the codes in src/App.tsx"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",metastring:'title="src/App.tsx" showLineNumbers',children:'import { useEffect, useState } from "react";\nimport { IPortkeyProvider, MethodsBase } from "@portkey/provider-types";\nimport "./App.css";\nimport detectProvider from "@portkey/detect-provider";\n\nfunction App() {\n  const [provider, setProvider] = useState<IPortkeyProvider | null>(null);\n\n  const init = async () => {\n    try {\n      setProvider(await detectProvider());\n    } catch (error) {\n      console.log(error, "=====error");\n    }\n  };\n\n  const connect = async () => {\n    await provider?.request({\n      method: MethodsBase.REQUEST_ACCOUNTS,\n    });\n  };\n\n  useEffect(() => {\n    if (!provider) init();\n  }, [provider]);\n\n  if (!provider) return <>Provider not found.</>;\n\n  return (\n    <>\n      <button onClick={connect}>Connect</button>\n    </>\n  );\n}\n\nexport default App;\n'})}),"\n",(0,r.jsx)(n.h2,{id:"4-start-the-development-server",children:"4. Start the development server"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run dev\n"})}),"\n",(0,r.jsx)(n.h2,{id:"5-result",children:"5. Result"}),"\n",(0,r.jsxs)(n.p,{children:["Click on the ",(0,r.jsx)(n.code,{children:"connect"})," button."]}),"\n",(0,r.jsx)(n.p,{children:"If successful, the chrome extension should pop up requesting the user to connect to the application."})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var r=t(6540);const s={},o=r.createContext(s);function i(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);